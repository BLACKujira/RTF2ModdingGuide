# UE4SSのインストール
*R-Type Final 2* のMODを開発または使用する際、UE4SSのインストールは必須の第一歩です。

*UE4SS* は強力なツールであり、`LUA Mod` と `ブループリントMod` の両方をサポートするだけでなく、ゲーム内のオブジェクトの確認・編集、マッピングファイルやヘッダーファイルのエクスポートなど、多くの重要な機能を提供します。本ガイドのほとんどの内容で、これを基盤として使用します。

本チュートリアルでは、`UE4SS v3.0.0` の開発者版をインストールし、`v3.0.1` にアップグレードする手順を学びます。その後、インストールを検証し、問題を解決します。

## UE4SSのダウンロード
まず [UE4SS-RE/RE-UE4SS](https://github.com/UE4SS-RE/RE-UE4SS) にアクセスし、ページ右側の [Releases](https://github.com/UE4SS-RE/RE-UE4SS/releases) をクリックして、`zDEV-UE4SS_v3.0.1.zip` をダウンロードします。また、ページをスクロールして `zDEV-UE4SS_v3.0.0.zip` もダウンロードしてください。

注意：これらの2つのバージョンを両方ダウンロードする必要があります。`v3.0.0` をインストールした後でなければ、`v3.0.1` にアップグレードできません。

## インストールディレクトリを探す
Steam版を例にすると、ゲームアイコンを右クリックし、表示されるメニューから `管理` -> `ローカルファイルを参照` を選択すると、ゲームのインストールディレクトリが開きます。ここには、`RTypeFinal2.exe` という実行ファイルや、`Engine`、`RTypeFinal2` フォルダが含まれているはずです。OSTを購入している場合、ここにOSTのフォルダも表示されます。

![GameDir](..\image\GameDir.png)

`RTypeFinal2` フォルダを開き、さらにその中の `Binaries` フォルダ、そして `Win64` フォルダを開きます。ここに `RTypeFinal2-Win64-Shipping.exe` というファイルが見つかるはずで、これがUE4SSのインストールディレクトリです。

## UE4SS v3.0.0 のインストール
`zDEV-UE4SS_v3.0.0.zip` の中身をすべて解凍して、このディレクトリに配置してください。正しく操作すると、フォルダ構成は以下の図のようになります。

![AfterInstall](../image/AfterInstall.png)

この時点でゲームを起動すると、UE4SSのコンソールがゲームと共に起動するはずです。起動しない場合は、手順を再確認してください。それでも解決しない場合、[UE4SSの手動注入](手動でUE4SSを注入する.md) を参照して問題を解決してください。

コンソールが空白の場合も、`v3.0.1` へのアップグレード後に対処可能です。

## UE4SS v3.0.1 へのアップグレード
`zDEV-UE4SS_v3.0.1.zip` の内容を同じフォルダに解凍し、すべてのファイルを上書きします。これで `UE4SS v3.0.1` へのアップグレードが完了します。

## コンソールの表示問題を解決
UE4SSのコンソールが全黒または全白の場合、インストールディレクトリ内の `UE4SS-settings.ini` ファイルを見つけてください。

任意のテキストエディタで `UE4SS-settings.ini` を開き、`GraphicsAPI = opengl` という行を `GraphicsAPI = dx11` に変更してください。

![FixGuiConsole](../image/FixGuiConsole.png)

## 次のステップ...
UE4SSが正常にインストールされたら、次はModをインストールできます。Modの種類に応じて、インストール方法が異なります。以下のガイドを参照してください。
- [ブループリントModのインストール](ブループリントModのインストール.md)
- [LUA Modのインストール](LUAModのインストール.md)

一部のModは、`LUA Mod` と `ブループリントMod` の両方を同時にインストールする必要がある場合があります。

## 補足：開発者版の最新UE4SSを推奨する理由
開発者版では、デフォルトでコンソールが有効になっており、初心者でも設定ファイルを変更せずにUE4SSが正常に動作しているかを直感的に判断できます。また、コンソールに表示される情報は、Modが正しくインストールされているかどうかを判断するのにも役立ちます。

さらに、ゲームの武器、機体、ステージデータはデータテーブルに記録されています。複数の異なるModがこれらのデータを追加する場合、衝突を防ぐために、実行時にデータテーブルに情報を追加する必要があります（元のデータテーブルを直接上書きするのではなく）。

現在のUE4SSではこの機能はありませんが、近い将来のバージョンで追加される可能性が高いです。そのため、将来のバージョンアップに備えて、最新の `v3.0.1` を使用してModを開発し、それに基づいてModをロードすることをお勧めします。
